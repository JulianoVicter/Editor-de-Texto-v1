{% extends "base.html" %}
{% load editor_i18n %}

{% block title %}{% tr request "LIST_TITLE" %}{% endblock %}

{% block content %}
<section class="hero">
  <div class="hero-text">
    <p class="eyebrow">{% tr request "EYEBROW" %}</p>
    <h1>{% tr request "HERO_TITLE" %}</h1>
    <p class="subhead">{% tr request "HERO_SUBHEAD" %}</p>
    <div class="hero-actions">
      <a class="btn btn-primary" href="{% url 'doc_create' %}">{% tr request "NEW_DOCUMENT" %}</a>
      <span class="chip">{{ docs|length }} {% tr request "DOC_SHORT" %}</span>
    </div>
  </div>
  <div class="hero-card">
    <div class="card-top">
      <span class="dot"></span>
      <span class="dot dot-warm"></span>
      <span class="dot dot-cool"></span>
    </div>
    <div class="card-body">
      <p class="card-title">{% tr request "LATEST_EDITS" %}</p>
      {% if docs %}
        <ul class="mini-list">
          {% for d in docs|slice:":4" %}
            <li>{{ d.title }}</li>
          {% endfor %}
        </ul>
      {% else %}
        <p class="muted">{% tr request "NO_DOCS_YET" %}</p>
      {% endif %}
    </div>
  </div>
</section>

<section class="panel">
  <div class="panel-header">
    <h2>{% tr request "DOCUMENTS" %}</h2>
    <a class="btn btn-ghost" href="{% url 'doc_create' %}">{% tr request "CREATE_NEW" %}</a>
  </div>

  {% if docs %}
    <div class="doc-grid">
      {% for d in docs %}
        <div class="doc-card">
          <a class="doc-card-link" href="{% url 'doc_edit' d.id %}">
            <div class="doc-card-title">{{ d.title }}</div>
            <div class="doc-card-meta">{% tr request "CLICK_TO_EDIT" %}</div>
          </a>
          <form class="doc-card-actions" method="post" action="{% url 'doc_delete' d.id %}">
            {% csrf_token %}
            <button class="btn btn-danger" type="submit">{% tr request "DELETE" %}</button>
          </form>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <div class="empty-state">
      <p class="empty-title">{% tr request "START_FIRST_DOCUMENT" %}</p>
      <p class="muted">{% tr request "USE_BUTTON_CREATE" %}</p>
    </div>
  {% endif %}
</section>
{% endblock %}
